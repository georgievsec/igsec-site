<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Globe Test</title>
  <style>
    html, body {{
      margin: 0;
      padding: 0;
      height: 100%;
      background: #000;
      overflow: hidden;
    }}
    #globeViz {{
      position: absolute;
      width: 100%;
      height: 100%;
    }}
    #overlay {{
      position: absolute;
      top: 20px;
      left: 20px;
      color: white;
      z-index: 10;
      font-family: sans-serif;
    }}
  </style>
  <script src="https://unpkg.com/three@0.152.2/build/three.min.js"></script>
  <script src="https://unpkg.com/globe.gl"></script>
</head>
<body>
  <div id="globeViz"></div>
  <div id="overlay">üåç Globe Test ‚Äì IGsec</div>

  <script>
    window.onload = () => {{
      const globeContainer = document.getElementById('globeViz');
      const Globe = window.Globe;

      const globe = Globe()(globeContainer)
        .globeImageUrl('//unpkg.com/three-globe/example/img/earth-dark.jpg')
        .backgroundColor('rgba(0,0,0,0)')
        .arcColor(() => ['#ff6f61', '#00bcd4'][Math.floor(Math.random() * 2)])
        .arcDashLength(0.4)
        .arcDashGap(2)
        .arcDashInitialGap(() => Math.random() * 5)
        .arcDashAnimateTime(2000)
        .arcStroke(1.2)
        .arcsTransitionDuration(0)
        .showAtmosphere(true)
        .atmosphereColor('#3aafff')
        .atmosphereAltitude(0.25);

      globe.controls().autoRotate = true;
      globe.controls().autoRotateSpeed = 0.5;

      function generateArcs() {{
        return [...Array(50).keys()].map(() => {{
          const startLat = (Math.random() - 0.5) * 180;
          const startLng = (Math.random() - 0.5) * 360;
          const endLat = (Math.random() - 0.5) * 180;
          const endLng = (Math.random() - 0.5) * 360;
          return {{ startLat, startLng, endLat, endLng }};
        }});
      }}

      setInterval(() => {{
        globe.arcsData(generateArcs());
      }}, 4000);

      globe.arcsData(generateArcs());
    }};
  </script>
</body>
</html>
